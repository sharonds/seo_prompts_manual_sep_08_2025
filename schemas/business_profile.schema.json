{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Business Profile (Foundation Intake) â€” Schema v1.1",
  "type": "object",
  "properties": {
    "company_name": { "type": "string" },
    "website": { "type": "string", "format": "uri" },
    "industry": { "type": "string" },
    "services": { "type": "array", "items": { "type": "string" }, "minItems": 1 },
    "geo_focus": { "type": "string", "description": "e.g., Israel" },
    "language": { "type": "string", "enum": ["he", "en", "ar", "ru", "other"], "default": "he" },

    "goals": { "type": "array", "items": { "type": "string" }, "minItems": 1, "description": "Top business goals relevant to SEO content" },
    "vision_summary": { "type": "string", "description": "Short narrative from founder about the business" },

    "positioning_summary": {
      "type": "object",
      "properties": {
        "value_props": { "type": "array", "items": { "type": "string" } },
        "unfair_advantage": { "type": "array", "items": { "type": "string" } }
      }
    },

    "market_context": {
      "type": "object",
      "properties": {
        "competitors": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "name": { "type": "string" },
              "url": { "type": "string", "format": "uri" },
              "positioning_notes": { "type": "string" }
            },
            "required": ["name"]
          }
        },
        "seed_keywords": { "type": "array", "items": { "type": "string" }, "description": "Founder-provided seed terms (any language)" },
        "target_market_notes": { "type": "string" }
      }
    },

    "seo_constraints": {
      "type": "object",
      "properties": {
        "target_countries": { "type": "array", "items": { "type": "string" } },
        "target_languages": { "type": "array", "items": { "type": "string" } },
        "must_include_terms": { "type": "array", "items": { "type": "string" } },
        "must_exclude_terms": { "type": "array", "items": { "type": "string" } },
        "compliance_notes": { "type": "array", "items": { "type": "string" } }
      },
      "description": "Constraints to respect during keyword discovery and content recommendations"
    },

    "content_preferences": {
      "type": "object",
      "properties": {
        "formats_priority": { "type": "array", "items": { "type": "string" }, "description": "e.g., blog, FAQ, video, landing page" },
        "cadence_per_week": { "type": "integer" },
        "distribution_channels": { "type": "array", "items": { "type": "string" } }
      }
    },

    "_meta": {
      "type": "object",
      "properties": {
        "schema_version": { "type": "string", "default": "1.1.0" },
        "produced_by": { "type": "string", "default": "founder_intake_manual" },
        "timestamp": { "type": "string", "format": "date-time" }
      },
      "required": ["schema_version", "produced_by", "timestamp"]
    }
  },
  "required": ["company_name", "industry", "services", "goals", "_meta"],
  "additionalProperties": false
}